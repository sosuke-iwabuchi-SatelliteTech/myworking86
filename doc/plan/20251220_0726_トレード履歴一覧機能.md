# 概要
管理者機能として、すべてのユーザーのトレード履歴を一覧表示・確認できる機能を実装する。
本機能は管理者権限（`role: admin`）を持つユーザーのみがアクセス可能であり、データの閲覧（Read-only）を目的とする。

# 要件
- **アクセス権限**: 管理者のみ。
- **機能**:
    - **一覧表示**: 全トレード履歴を表示する。
    - **詳細表示**: 各トレードの詳細（交換アイテム、メッセージ等）を表示する。
    - **検索/絞り込み**:
        - ユーザー名（依頼者）
        - トレード日時（期間指定 From 〜 To）
    - **ソート**: 項目による昇順・降順並べ替え。
    - **ページネーション**: 1ページあたりの件数を設定し、ページ送り可能にする。

# 画面仕様・デザイン
## 1. トレード履歴一覧画面 (`/admin/trades`)
- **デザインベース**: 既存の「ユーザー一覧 (`/admin/users`)」のテーブルレイアウトを踏襲する。
- **検索エリア**:
    - 「景品リスト (`PrizeListScreen`)」のような**展開式検索パネル**を採用する。
    - 「検索する」ボタンでパネルを開閉。
    - 入力項目:
        - 依頼者名 (部分一致検索)
        - トレード日時 (From, To) - カレンダー選択または日付入力
    - 「検索実行」ボタンでサーバーサイドフィルタリングを実行する。
- **一覧表示項目**:
    - **ID**: トレードID
    - **トレード日時**: `created_at`（申請日時）を表示。
    - **依頼者**: ユーザー名（リンクでユーザー詳細へ飛べると良いが、今回は名前表示のみでも可）。
    - **依頼先**: ユーザー名。
    - **ステータス**: `pending`, `accepted`, `rejected`, `cancelled`, `completed` 等をバッジ等でわかりやすく表示。
    - **操作**: 「詳細」ボタン。

## 2. トレード詳細画面 (`/admin/trades/{id}`)
- **デザインベース**: 既存のユーザ用トレード詳細画面 (`/trades/{id}`) をベースにするが、操作ボタン（承認、拒否、キャンセル）を排除し、**閲覧専用**にする。
- **表示内容**:
    - ステータス、申請日時
    - メッセージ
    - **From (依頼者)**: 提示アイテム一覧
    - **To (依頼先)**: 希望アイテム一覧

# 実装計画
## Backend
1. **Controller**: `App\Http\Controllers\Web\Admin\TradeController` を作成。
    - `index()`: 一覧取得。`TradeRequest` モデルを使用。`sender`, `receiver` を Eager Load。`Request` パラメータによるフィルタリング (`sender_name`, `date_from`, `date_to`) とソートを実装。
    - `show(TradeRequest $trade)`: 詳細表示。
2. **Route**: `routes/web.php` の `admin` グループにルートを追加。
    - `GET /admin/trades` (`admin.trades.index`)
    - `GET /admin/trades/{id}` (`admin.trades.show`)

## Frontend
1. **List Page**: `resources/js/pages/Admin/Trades/Index.tsx` を新規作成。
    - `Layout`: `AdminLayout` を使用。
    - `SearchPanel`: `PrizeListScreen` の検索UIを参考に実装（コンポーネント化推奨）。
    - `Table`: `Admin/Users/Index.tsx` のテーブル実装を流用。
2. **Detail Page**: `resources/js/pages/Admin/Trades/Show.tsx` を新規作成。
    - 既存の `Trade/Show` コンポーネントロジックを参考にするか、部分的に再利用可能な形であれば再利用する。
    - 読み取り専用コンポーネントとして実装。

# テスト計画
- **Feature Test**: `tests/Feature/Admin/TradeControllerTest.php` (必要に応じて作成)
    - 管理者以外がアクセスできないこと。
    - フィルタリングが正しく動作すること（名前、日付）。
    - データが正しく表示されること。

# 手順
1. `routes/web.php` にルート定義追加。
2. `Admin/TradeController` 実装。
3. `Admin/Trades/Index.tsx` 実装。
4. `Admin/Trades/Show.tsx` 実装。
5. 動作確認・テスト。