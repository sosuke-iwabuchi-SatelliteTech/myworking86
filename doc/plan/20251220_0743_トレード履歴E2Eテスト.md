# トレード履歴一覧機能 E2Eテスト計画

管理者用トレード履歴一覧機能のE2Eテストケースを策定する。
Playwrightを使用し、`tests/Frontend/e2e/admin/trade_history.spec.ts` に実装予定。

## テストケース一覧

### 1. アクセス制御 (Access Control)
- **TC01**: 一般ユーザーで `/admin/trades` にアクセスした場合、ログイン画面またはトップページにリダイレクトされること。
- **TC02**: 管理者ユーザーで `/admin/trades` にアクセスした場合、一覧画面が正常に表示されること。

### 2. 一覧表示 (List View)
- **TC03**: 一覧画面に以下の項目を持ったテーブルが表示されていること。
    - Date (トレード日時)
    - ID (トレードID)
    - Sender (依頼者名)
    - Receiver (依頼先名)
    - Status (ステータス)
    - Actions (詳細ボタン)
- **TC04**: データが存在する場合、正しく描画されていること。
- **TC05**: ページネーションが機能すること（データが多い場合）。

### 3. 検索機能 (Search)
- **TC06**: 「Search Filters」ボタンをクリックすると検索パネルが開くこと。
- **TC07**: **Sender Name** で検索し、該当する依頼者のトレードのみが表示されること。
- **TC08**: **Date From / To** で期間を指定し、範囲内のトレードのみが表示されること。
- **TC09**: 「Clear」ボタンで検索条件がリセットされ、全件表示に戻ること。

### 4. ソート機能 (Sort)
- **TC10**: **Date** カラムのヘッダーをクリックすると、昇順・降順が切り替わること。
- **TC11**: **Status** カラムのヘッダーをクリックすると、ステータス順に並び替わること。

### 5. 詳細表示 (Detail View)
- **TC12**: 一覧画面の「Details」ボタンをクリックすると、正しく詳細画面 (`/admin/trades/{id}`) に遷移すること。
- **TC13**: 詳細画面に以下の情報が表示されていること。
    - Trade Info (ID, Date, Sender, Receiver, Status, Message)
    - Items (Senderの提示アイテム, Receiverの希望アイテム)
- **TC14**: アイテム情報（画像、名前、レアリティ）が正しく表示されていること。

### 6. ナビゲーション (Navigation)
- **TC15**: 詳細画面にある「Back to List」ボタンをクリックすると、一覧画面に戻ること。
- **TC16**: 一覧画面に戻った際、検索条件やページ数が保持されていること（Inertiaの仕様確認含む）。

## 実装方針
- テストデータ用のSeedまたはFactoryを使用し、テスト実行前に管理者ユーザーとトレードデータを作成する。
- ログイン処理は既存のヘルパーまたはセットアップを活用する。
